<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medication Tree - Viking Hormone Clinic</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/babel-standalone@7.22.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
    <div id="root"></div>
    <script type="text/babel">
        const medications = [
            {
                id: 1,
                name: "Testosterone Cypionate",
                goals: ["Retain Muscle", "Improve Libido", "HRT (Men)"],
                dosing: "200 mg IM every 2 weeks or weekly; cream: 1-2 clicks (10-20 mg) daily",
                delivery: ["Injectable", "Cream"],
                price: { "CA": "$190-$365", "Other": "$170-$300" },
                summary: "Treats hypogonadism and low T levels, boosting muscle, strength, and libido in men; low doses for women in HRT.",
                pairings: ["Anastrozole (0.25-0.5 mg 2x weekly)", "Primobolan for enhanced muscle growth"]
            },
            {
                id: 2,
                name: "Estrogen Patch",
                goals: ["Manage Menopause Symptoms", "Improve Bone Health"],
                dosing: "0.0375-0.1 mg/24hr patch, 2 per week; ultra-low 0.014 mg/day weekly for bone focus",
                delivery: ["Patch"],
                price: { "CA": "$100/4 weeks", "Other": "$100/4 weeks" },
                summary: "Eases hot flashes, vaginal dryness; boosts BMD to cut osteoporosis risk in postmenopausal women.",
                pairings: ["Progestogen (if uterus present)", "Exercise for max bone protection"]
            },
            {
                id: 3,
                name: "Semaglutide",
                goals: ["Weight Loss"],
                dosing: "Start 0.25 mg weekly, up to 2.4 mg; with diet/exercise",
                delivery: ["Injectable"],
                price: { "CA": "$1199.99 or $599.99/month", "Other": "$1199.99 or $599.99/month" },
                summary: "GLP-1 agonist for obesity and T2 diabetes; slashes appetite, aids major weight loss.",
                pairings: ["Diet and exercise", "B12 for energy"]
            },
            {
                id: 4,
                name: "Tirzepatide",
                goals: ["Weight Loss"],
                dosing: "Start 2.5 mg weekly, up to 15 mg; subQ injection",
                delivery: ["Injectable"],
                price: { "CA": "$1399.99 or $699.99/month", "Other": "$1399.99 or $699.99/month" },
                summary: "Dual GIP/GLP-1 agonist; drives big weight drops (up to 52 lbs at 15 mg) in obesity.",
                pairings: ["Lifestyle changes", "Metformin if diabetic"]
            },
            {
                id: 5,
                name: "HCG",
                goals: ["Improve Libido", "Fertility"],
                dosing: "1000-4000 IU 3x/week; pair with TRT for fertility maintenance",
                delivery: ["Injectable"],
                price: { "CA": "Varies by pharmacy", "Other": "Varies by pharmacy" },
                summary: "Boosts T production, sperm count, libido; key in TRT to preserve fertility and testicular size.",
                pairings: ["Clomiphene (25 mg/day)", "TRT protocols"]
            },
            {
                id: 6,
                name: "Sermorelin",
                goals: ["Retain Muscle", "HRT (Men)"],
                dosing: "0.1-0.5 mg daily subQ, before bed; 5 days/week cycle",
                delivery: ["Injectable"],
                price: { "CA": "Varies by pharmacy", "Other": "Varies by pharmacy" },
                summary: "GH secretagogue for muscle growth, recovery, anti-aging; FDA-ok'd alternative to peptides.",
                pairings: ["GHRP-2 for synergy", "Strength training"]
            },
            {
                id: 7,
                name: "PT-141",
                goals: ["Improve Libido"],
                dosing: "0.5-2 mg subQ as needed",
                delivery: ["Injectable"],
                price: { "CA": "Varies", "Other": "Varies" },
                summary: "Peptide for boosting sexual function.",
                pairings: ["Testosterone", "Counseling"]
            }
        ];

        function MedicationCard({ medication, onClick, state }) {
            const selectedPrice = medication.price[state] || medication.price["Other"];
            return (
                <div 
                    className="bg-white p-6 rounded-lg shadow-md hover:shadow-lg cursor-pointer transition"
                    onClick={() => onClick(medication)}
                >
                    <h3 className="text-xl font-bold text-gray-800">{medication.name}</h3>
                    <p className="text-gray-600 mt-2"><strong>Goals:</strong> {medication.goals.join(", ")}</p>
                    <p className="text-gray-600"><strong>Dosing:</strong> {medication.dosing}</p>
                    <p className="text-gray-600"><strong>Delivery:</strong> {medication.delivery.join(", ")}</p>
                    <p className="text-gray-600"><strong>Price ({state}):</strong> {selectedPrice}</p>
                </div>
            );
        }

        function MedicationModal({ medication, onClose, state }) {
            if (!medication) return null;
            const selectedPrice = medication.price[state] || medication.price["Other"];
            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
                    <div className="bg-white p-8 rounded-lg max-w-lg w-full">
                        <h2 className="text-2xl font-bold text-gray-800 mb-4">{medication.name}</h2>
                        <p><strong>Goals:</strong> {medication.goals.join(", ")}</p>
                        <p><strong>Dosing:</strong> {medication.dosing}</p>
                        <p><strong>Delivery:</strong> {medication.delivery.join(", ")}</p>
                        <p><strong>Price ({state}):</strong> {selectedPrice}</p>
                        <p><strong>Summary:</strong> {medication.summary}</p>
                        <p><strong>Recommended Pairings:</strong> {medication.pairings.join(", ")}</p>
                        <button 
                            className="mt-6 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                            onClick={onClose}
                        >
                            Close
                        </button>
                    </div>
                </div>
            );
        }

        function App() {
            const [selectedGoal, setSelectedGoal] = React.useState("All");
            const [selectedState, setSelectedState] = React.useState("Other");
            const [searchTerm, setSearchTerm] = React.useState("");
            const [selectedMedication, setSelectedMedication] = React.useState(null);

            const goals = ["All", ...new Set(medications.flatMap(med => med.goals))];
            const states = ["CA", "Other"];

            const filteredMedications = medications
                .filter(med => selectedGoal === "All" || med.goals.includes(selectedGoal))
                .filter(med => med.name.toLowerCase().includes(searchTerm.toLowerCase()));

            return (
                <div className="max-w-7xl mx-auto p-6">
                    <h1 className="text-3xl font-bold text-gray-900 mb-6">Medication Tree - Viking Hormone Clinic</h1>
                    <div className="flex flex-wrap gap-4 mb-6">
                        <div>
                            <label className="text-lg font-semibold text-gray-700">Patient Goal:</label>
                            <select 
                                className="ml-2 p-2 border rounded-lg"
                                value={selectedGoal}
                                onChange={(e) => setSelectedGoal(e.target.value)}
                            >
                                {goals.map(goal => <option key={goal} value={goal}>{goal}</option>)}
                            </select>
                        </div>
                        <div>
                            <label className="text-lg font-semibold text-gray-700">State:</label>
                            <select 
                                className="ml-2 p-2 border rounded-lg"
                                value={selectedState}
                                onChange={(e) => setSelectedState(e.target.value)}
                            >
                                {states.map(s => <option key={s} value={s}>{s}</option>)}
                            </select>
                        </div>
                        <div>
                            <label className="text-lg font-semibold text-gray-700">Search:</label>
                            <input 
                                type="text"
                                className="ml-2 p-2 border rounded-lg"
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                                placeholder="e.g., Testosterone"
                            />
                        </div>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {filteredMedications.map(med => (
                            <MedicationCard 
                                key={med.id}
                                medication={med}
                                onClick={setSelectedMedication}
                                state={selectedState}
                            />
                        ))}
                    </div>
                    <MedicationModal 
                        medication={selectedMedication}
                        onClose={() => setSelectedMedication(null)}
                        state={selectedState}
                    />
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
