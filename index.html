<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medication Lookup App</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 0;
    }
    .header {
      background: #000000;
      color: white;
      padding: 2rem 1rem;
      text-align: center;
    }
    .header-content {
      max-width: 1200px;
      margin: 0 auto;
    }
    .viking-logo {
      margin-bottom: 2rem;
    }
    .viking-logo img {
      max-height: 80px;
      width: auto;
    }
    .controls-section {
      margin: 2rem auto;
      max-width: 600px;
    }
    .splash-image {
      margin: 2rem auto;
      max-width: 720px;
      transition: opacity 0.3s ease;
    }
    .splash-image img {
      width: 100%;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }
    .splash-image.hidden {
      opacity: 0;
      height: 0;
      overflow: hidden;
      margin: 0;
    }
    .tagline {
      color: white;
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }
    .welcome-text {
      background: #000000;
      color: white;
      text-align: center;
      padding: 1.5rem;
      margin-top: 2rem;
    }
    .welcome-text h2 {
      color: white;
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
    .welcome-text p {
      font-size: 1rem;
      opacity: 0.9;
    }
    .main-content {
      padding: 2rem 1rem;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07), 0 1px 3px rgba(0, 0, 0, 0.1);
      padding: 2rem;
      margin-bottom: 2rem;
      border: 1px solid rgba(255, 255, 255, 0.8);
    }
    h1 {
      font-size: 2rem;
      font-weight: bold;
      color: #1f2937;
      margin-bottom: 1.5rem;
    }
    h2 {
      font-size: 1.5rem;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 1rem;
    }
    h3 {
      font-size: 1.125rem;
      font-weight: 600;
      color: #2563eb;
      margin-bottom: 0.5rem;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    @media (min-width: 768px) {
      .grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: #374151;
      margin-bottom: 0.5rem;
    }
    .header label {
      color: white;
      font-weight: 600;
    }
    select {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 1rem;
      background-color: white;
      transition: all 0.2s ease;
    }
    select:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    select:disabled {
      background-color: #f9fafb;
      color: #6b7280;
      cursor: not-allowed;
    }
    .medication-card {
      border: 2px solid #f3f4f6;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      transition: all 0.3s ease;
      background: white;
    }
    .medication-card:hover {
      border-color: #3b82f6;
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.1);
      transform: translateY(-2px);
    }
    .medication-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      margin-bottom: 0.75rem;
    }
    @media (min-width: 768px) {
      .medication-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    .info-box {
      padding: 0.75rem;
      border-radius: 0.375rem;
      margin-bottom: 0.75rem;
    }
    .info-box.dosing {
      background-color: #fef3c7;
    }
    .info-box.description {
      background-color: #f9fafb;
    }
    .text-muted {
      color: #6b7280;
    }
    .font-medium {
      font-weight: 500;
    }
    .alert {
      padding: 1rem;
      background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
      border: 1px solid #93c5fd;
      border-radius: 8px;
      margin-bottom: 1.5rem;
    }
    .warning {
      padding: 1rem;
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border: 1px solid #f59e0b;
      border-radius: 8px;
      margin-bottom: 1.5rem;
    }
    .hidden {
      display: none;
    }
    
    /* Mobile Responsiveness */
    @media (max-width: 768px) {
      .header {
        padding: 1.5rem 1rem;
      }
      .viking-logo img {
        max-height: 60px;
      }
      .tagline {
        font-size: 1.25rem;
      }
      .controls-section {
        margin: 1.5rem auto;
      }
      .splash-image {
        margin: 1.5rem auto;
        max-width: 90%;
      }
      .main-content {
        padding: 1rem;
      }
      .card {
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }
      .medication-card {
        padding: 1rem;
      }
      .grid {
        grid-template-columns: 1fr !important;
      }
      .welcome-text {
        padding: 1rem;
      }
      .welcome-text h2 {
        font-size: 1.25rem;
      }
    }
    
    @media (max-width: 480px) {
      .header {
        padding: 1rem;
      }
      .viking-logo img {
        max-height: 50px;
      }
      .tagline {
        font-size: 1.1rem;
      }
      .main-content {
        padding: 0.75rem;
      }
      .card {
        padding: 1rem;
      }
      .welcome-text {
        padding: 0.75rem;
      }
      .welcome-text h2 {
        font-size: 1.1rem;
      }
      .welcome-text p {
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="header-content">
      <div class="viking-logo">
        <img src="viking-logo.png" alt="Viking Alternative Medicine" />
      </div>
      
      <div class="tagline">Viking Doesn't Sell Medications - We Create Transformations</div>
      
      <div class="controls-section">
        <div class="grid">
          <div>
            <label for="state-select">Select State</label>
            <select id="state-select">
              <option value="">Choose a state...</option>
            </select>
          </div>
          
          <div>
            <label for="goal-select">Select Patient Goal</label>
            <select id="goal-select" disabled>
              <option value="">Choose a goal...</option>
            </select>
          </div>
        </div>
      </div>
      
      <div id="splash-image" class="splash-image">
        <img src="viking-team.png" alt="Viking Team - Help Us / Thank You Viking" />
      </div>
    </div>
  </div>

  <div class="main-content">
    <div class="container">
      <div id="data-status" class="alert hidden">
        <p><strong>Status:</strong> <span id="med-count">Select a state and patient goal to view available medications</span></p>
      </div>

      <p id="select-goal-message" class="text-muted hidden">Please select a patient goal to view available medications.</p>

      <div id="results-section" class="card hidden">
        <h2 id="results-header"></h2>
        <div id="medications-list"></div>
      </div>

      <div id="no-results" class="card hidden">
        <p style="text-align: center;" class="text-muted">
          No medications available for this combination. 
          This may be due to pharmacy shipping restrictions.
        </p>
      </div>
    </div>
  </div>

  <div class="welcome-text">
    <h2>Welcome to the Viking Alternative Medicine Medical Tree</h2>
    <p>Please select a patient goal and a state to get started.</p>
  </div>

  <script>
   // COMPLETE VIKING MEDICATION DATA - ALL MEDICATIONS FROM PDF
        const VIKING_MEDICATIONS = [
            // Men - Standard TRT Protocol
            {
                category: 'Men - Standard TRT Protocol',
                medication: 'Testosterone Cypionate Anastrozole Tablets #10',
                syringes: '#20 IM syringes',
                delivery: 'INJECTABLE',
                strength: '200mg/ml',
                quantity: '10ml vial',
                price: '$250.00',
                duration: '10 weeks',
                pharmacy: '',
                remarksDosing: 'Inject 0.5 ml (100 mg) by intramuscular route 2x weekly. Take ¼ (0.25 mg) - ½ tablet (.5 mg) by mouth 2x weekly.',
                description: 'This medication is a synthetic form of testosterone used to treat low testosterone levels (hypogonadism) in men. What you can expect: Improved energy levels, increased muscle mass, enhanced libido, better mood, and improved overall quality of life. Effects typically become noticeable within 2-4 weeks. Common side effects: Acne, increased hair growth, mood changes, injection site reactions, increased red blood cell count, and fluid retention. Serious but rare side effects include blood clots, heart problems, and prostate issues. Known interactions: May affect blood sugar levels in diabetics (requiring insulin/medication adjustments), can interact with blood thinners increasing bleeding risk, and may enhance effects of corticosteroids. Should not be used with certain heart medications. **This information is automatically generated with AI. Use this information as a guideline only because AI is capable of making mistakes. Always seek the guidance of your medical provider before starting or stopping the use of any medication.**'
            }
        ];


  // California medications - COMPLETE list from CA price sheet using non-CA categorization
const CA_MEDICATIONS = [  // Start CA_MEDICATIONS array
    // Men - Standard TRT Protocol
    {  // Start first CA medication
        category: 'Men - Standard TRT Protocol',
        medication: 'Testosterone Cypionate Anastrozole Tablets #10',
        syringes: '#20 IM syringes',
        delivery: 'INJECTABLE',
        strength: '200mg/ml',
        quantity: '10ml vial',
        price: '$275.00',
        duration: '10 weeks',
        pharmacy: 'ScriptWorks',
        remarksDosing: 'Inject 0.5 ml (100 mg) by intramuscular route 2x weekly. Take ¼ (0.25 mg) - ½ tablet (.5 mg) by mouth 2x weekly.',
        description: 'This medication is a synthetic form of testosterone used to treat low testosterone levels (hypogonadism) in men. What you can expect: Improved energy levels, increased muscle mass, enhanced libido, better mood, and improved overall quality of life. Effects typically become noticeable within 2-4 weeks. Common side effects: Acne, increased hair growth, mood changes, injection site reactions, increased red blood cell count, and fluid retention. Serious but rare side effects include blood clots, heart problems, and prostate issues. Known interactions: May affect blood sugar levels in diabetics (requiring insulin/medication adjustments), can interact with blood thinners increasing bleeding risk, and may enhance effects of corticosteroids. Should not be used with certain heart medications. **This information is automatically generated with AI. Use this information as a guideline only because AI is capable of making mistakes. Always seek the guidance of your medical provider before starting or stopping the use of any medication.**'
      }
      
    ];


    // STATE CONFIGURATIONS - Define which pharmacies ship to which states
    const STATE_CONFIGS = {
        'Alabama': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Alaska': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Arizona': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Arkansas': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'California': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Colorado': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Connecticut': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Delaware': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Florida': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Georgia': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Hawaii': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Idaho': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Illinois': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Indiana': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Iowa': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Kansas': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Kentucky': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Louisiana': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Maine': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Maryland': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Massachusetts': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Michigan': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Minnesota': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Mississippi': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Missouri': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Montana': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Nebraska': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Nevada': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'New Hampshire': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'New Jersey': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'New Mexico': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'New York': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'North Carolina': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'North Dakota': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Ohio': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Oklahoma': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Oregon': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Pennsylvania': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Puerto Rico': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Rhode Island': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'South Carolina': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'South Dakota': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Tennessee': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Texas': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Utah': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Vermont': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Virginia': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Washington': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'West Virginia': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Wisconsin': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] },
        'Wyoming': { pharmacies: ['Hallandale', '1st Choice', 'ALL'] }
    };

    // Data constants - Simple arrays like the working code
    const STATES = [
      'Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware',
      'District of Columbia', 'Florida', 'Georgia', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa',
      'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota',
      'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico',
      'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Puerto Rico',
      'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virginia',
      'Washington', 'West Virginia', 'Wisconsin', 'Wyoming', 'Virgin Islands'
    ];

    const PATIENT_GOALS = [
      'Men - Standard TRT Protocol',
      'Men - Standard Add On',
      'Women - Standard HRT Protocol',
      'Women - Standard Add On',
      'Joint Pain/Healing',
      'Sexual Function',
      'Vitamins',
      'Hair Loss',
      'Improve Energy',
      'Anti-Aging',
      'Improve Sleep',
      'Weight Loss'
    ];

    // Simple initialization like the working code
    function init() {
      console.log('Initializing app...');
      
      const stateSelect = document.getElementById('state-select');
      const goalSelect = document.getElementById('goal-select');
      
      // Populate states
      Object.keys(STATE_CONFIGS).sort().forEach(state => {
        const option = document.createElement('option');
        option.value = state;
        option.textContent = state;
        stateSelect.appendChild(option);
      });
      
      // Populate goals
      ['Men - Standard TRT Protocol', 'Men - Standard Add On', 'Women - Standard HRT Protocol', 'Women - Standard Add On', 'Joint Pain/Healing', 'Sexual Function', 'Vitamins', 'Hair Loss', 'Improve Energy', 'Anti-Aging', 'Improve Sleep', 'Weight Loss'].forEach(goal => {
        const option = document.createElement('option');
        option.value = goal;
        option.textContent = goal;
        goalSelect.appendChild(option);
      });
      
      // Add event listeners
      stateSelect.addEventListener('change', handleStateChange);
      goalSelect.addEventListener('change', handleSearch);
      
      console.log('App initialized successfully');
    }

    function handleStateChange() {
      const stateSelect = document.getElementById('state-select');
      const goalSelect = document.getElementById('goal-select');
      
      if (stateSelect.value) {
        goalSelect.disabled = false;
      } else {
        goalSelect.disabled = true;
        goalSelect.value = '';
      }
    }

    function handleSearch() {
      const state = document.getElementById('state-select').value;
      const goal = document.getElementById('goal-select').value;
      
      if (!state || !goal) return;
              
      // Use California medications for CA, regular medications for all other states
      const medList = state === 'California' ? CA_MEDICATIONS : VIKING_MEDICATIONS;
      
      // Filter by category first
      let filteredMedications = medList.filter(med => med.category === goal);
        
      displayResults(filteredMedications, state, goal);
    }

    function displayResults(medications, state, goal) {
        const resultsSection = document.getElementById('results-section');
        const noResultsSection = document.getElementById('no-results');
        const dataStatus = document.getElementById('data-status');
        const medCount = document.getElementById('med-count');
        const selectGoalMessage = document.getElementById('select-goal-message');
        
        // Hide select goal message
        if (selectGoalMessage) selectGoalMessage.classList.add('hidden');
        
        if (medications.length === 0) {
            if (resultsSection) resultsSection.classList.add('hidden');
            if (noResultsSection) noResultsSection.classList.remove('hidden');
            if (dataStatus && medCount) {
                dataStatus.classList.remove('hidden');
                medCount.textContent = `No medications available for ${goal} in ${state}`;
            }
        } else {
            if (noResultsSection) noResultsSection.classList.add('hidden');
            if (resultsSection) resultsSection.classList.remove('hidden');
            if (dataStatus && medCount) {
                dataStatus.classList.remove('hidden');
                medCount.textContent = `Found ${medications.length} medication${medications.length === 1 ? '' : 's'} for ${goal} in ${state}`;
            }
            
            const resultsHeader = document.getElementById('results-header');
            if (resultsHeader) resultsHeader.textContent = `${goal} - Available in ${state}`;
            
            const medicationsList = document.getElementById('medications-list');
            if (medicationsList) {
                medicationsList.innerHTML = '';
                
                medications.forEach(med => {
                    const medicationCard = createMedicationCard(med);
                    medicationsList.appendChild(medicationCard);
                });
            }
        }
    }

    function createMedicationCard(medication) {
        const card = document.createElement('div');
        card.className = 'medication-card';
        
        card.innerHTML = `
            <h3>${medication.medication}</h3>
            <div class="medication-grid">
                <div>
                    <strong>Delivery:</strong> ${medication.delivery}
                </div>
                <div>
                    <strong>Strength:</strong> ${medication.strength}
                </div>
                <div>
                    <strong>Quantity:</strong> ${medication.quantity}
                </div>
                <div>
                    <strong>Price:</strong> ${medication.price}
                </div>
                ${medication.duration ? '<div><strong>Duration:</strong> ' + medication.duration + '</div>' : ''}
                <div>
                    <strong>Pharmacy:</strong> ${medication.pharmacy}
                </div>
                ${medication.syringes ? '<div><strong>Syringes:</strong> ' + medication.syringes + '</div>' : ''}
            </div>
            ${medication.remarksDosing ? '<div class="info-box dosing"><strong>Dosing Instructions:</strong> ' + medication.remarksDosing + '</div>' : ''}
            <div class="info-box description">
                <strong>Description:</strong> ${medication.description}
            </div>
        `;
        
        return card;
    }

    // Start the app - simple like the working code
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
